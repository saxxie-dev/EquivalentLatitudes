var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function i(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t){return null==t?"":t}const l="undefined"!=typeof window;let u=l?()=>window.performance.now():()=>Date.now(),f=l?t=>requestAnimationFrame(t):t;const d=new Set;function p(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&f(p)}function h(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let k;function w(t){k=t}function M(){const t=function(){if(!k)throw new Error("Function called outside component initialization");return k}();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}const _=[],q=[];let E=[];const Y=[],C=Promise.resolve();let N=!1;function P(t){E.push(t)}const X=new Set;let A=0;function j(){if(0!==A)return;const t=k;do{try{for(;A<_.length;){const t=_[A];A++,w(t),S(t.$$)}}catch(t){throw _.length=0,A=0,t}for(w(null),_.length=0,A=0;q.length;)q.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];X.has(e)||(X.add(e),e())}E.length=0}while(_.length);for(;Y.length;)Y.pop()();N=!1,X.clear(),w(t)}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const z=new Set;let D;function O(t,e){t&&t.i&&(z.delete(t),t.i(e))}function K(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),D.c.push((()=>{z.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function B(t){t&&t.c()}function L(t,n,s,a){const{fragment:i,after_update:c}=t.$$;i&&i.m(n,s),a||P((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(P)}function T(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),E=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(_.push(t),N||(N=!0,C.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(e,o,s,a,i,c,l,u=[-1]){const f=k;w(e);const d=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||f.$$.root};l&&l(d.root);let p=!1;if(d.ctx=s?s(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&H(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();o.intro&&O(e.$$.fragment),L(e,o.target,o.anchor,o.customElement),j()}w(f)}class V{$destroy(){T(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const W=[];function G(t){return"[object Date]"===Object.prototype.toString.call(t)}function J(t,e,n,r){if("number"==typeof n||G(n)){const o=r-n,s=(n-e)/(t.dt||1/60),a=(s+(t.opts.stiffness*o-t.opts.damping*s)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,G(n)?new Date(n.getTime()+a):n+a)}if(Array.isArray(n))return n.map(((o,s)=>J(t,e[s],n[s],r[s])));if("object"==typeof n){const o={};for(const s in n)o[s]=J(t,e[s],n[s],r[s]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function U(e,n={}){const r=function(e,n=t){let r;const o=new Set;function a(t){if(s(e,t)&&(e=t,r)){const t=!W.length;for(const t of o)t[1](),W.push(t,e);if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(s,i=t){const c=[s,i];return o.add(c),1===o.size&&(r=n(a)||t),s(e),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}(e),{stiffness:o=.15,damping:a=.8,precision:i=.01}=n;let c,l,h,g=e,$=e,m=1,y=0,b=!1;function x(t,n={}){$=t;const o=h={};if(null==e||n.hard||v.stiffness>=1&&v.damping>=1)return b=!0,c=u(),g=t,r.set(e=$),Promise.resolve();if(n.soft){const t=!0===n.soft?.5:+n.soft;y=1/(60*t),m=0}return l||(c=u(),b=!1,l=function(t){let e;return 0===d.size&&f(p),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}((t=>{if(b)return b=!1,l=null,!1;m=Math.min(m+y,1);const n={inv_mass:m,opts:v,settled:!0,dt:60*(t-c)/1e3},o=J(n,g,e,$);return c=t,g=e,r.set(e=o),n.settled&&(l=null),!n.settled}))),new Promise((t=>{l.promise.then((()=>{o===h&&t()}))}))}const v={set:x,update:(t,n)=>x(t($,e),n),subscribe:r.subscribe,stiffness:o,damping:a,precision:i};return v}const Z=.160875,I=.002436,Q=-168.101,R=t=>Z+-.01284338815892138*(t-71.29),tt=t=>I+.983993/156.788*(t-Q),et={Lisbon:[38.736,-123.29],Paris:[48.864,-122.5],London:[51.5072,-126.8],Oslo:[59.9127,-135.4],"Saint Petersburg":[59.9311,-152.9],Zurich:[47.3769,-119],Baghdad:[33.3153,-113],Mecca:[21.4225,-103.5],Tehran:[35.7,-107],Moscow:[55.7558,-116],Kiev:[50.4504,-97.5],Jerusalem:[31.7789,-115.6],"Petropavlovsk-Kamchatskiy":[53.1,-59.6],Magadan:[59.55,-69.2],Kolkata:[22.5727,-98.5],Kunming:[25.0433,-102],Chongqing:[29.56,-99],Beijing:[39.9042,-80],Harbin:[45.75,-74],Almaty:[43.238,-103],Mumbai:[19.0758,-105],Kabul:[34.5328,-100],Bangkok:[13.7563,-87.2],"Hong Kong":[22.3193,-81.6],Shanghai:[31.2304,-81],Tokyo:[35.6764,-76.4],Pyeongyang:[39.0738,-74.3],Manila:[14.5958,-60.9],Ulaanbaatar:[47.9221,-104.5],Novosibirsk:[55.0333,-100],Hyderabad:[17.3617,-90],Dubai:[25.2048,-79.85],Yakutsk:[62.0272,-109],Murmansk:[68.9667,-164],Florence:[43.7714,-123],Vladivostok:[43.1167,-70.5],Volgograd:[48.7086,-113.5],Samarkand:[39.6547,-115.4],Timbuktu:[16.7733,-97],"Addis Ababa":[8.97,-83.23],Madrid:[40.4169,-121],Dublin:[53.3497,-132.2],Delhi:[28.68,-103.5],Beirut:[33.63,-119.8],"Xi'an":[34.33,-91.2],Gibraltar:[36.1,-121.7],Karachi:[24.76,-108],Shenyang:[41.79,-87.5],Hanoi:[21.01,-76.8],Sanya:[18.21,-68.9],Wuhan:[30.5928,-93.6],Nanjing:[32.058,-87],Norilsk:[69.3558,-92.5]};function nt(e){let n,r,o,s,a,i,l,u,f,d;return{c(){n=m("div"),r=m("div"),o=b(),s=m("a"),a=y(e[0]),v(r,"class","point svelte-1588fek"),v(s,"class","label svelte-1588fek"),v(s,"href",i=`https://wikipedia.org/wiki/${e[0]}`),v(n,"class",l=c("city"+(e[1]===e[0]?" selected":""))+" svelte-1588fek"),v(n,"style",u=`\n    top: ${100*R(et[e[0]][0])}%;\n    left: ${100*tt(et[e[0]][1])}%;`)},m(t,i){g(t,n,i),h(n,r),h(n,o),h(n,s),h(s,a),f||(d=x(r,"click",e[3]),f=!0)},p(t,[e]){1&e&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(a,t[0]),1&e&&i!==(i=`https://wikipedia.org/wiki/${t[0]}`)&&v(s,"href",i),3&e&&l!==(l=c("city"+(t[1]===t[0]?" selected":""))+" svelte-1588fek")&&v(n,"class",l),1&e&&u!==(u=`\n    top: ${100*R(et[t[0]][0])}%;\n    left: ${100*tt(et[t[0]][1])}%;`)&&v(n,"style",u)},i:t,o:t,d(t){t&&$(n),f=!1,d()}}}function rt(t,e,n){const r=M();let{cityName:o}=e,{selectedCity:s}=e;const a=()=>{r("select",{latitude:et[o][0],name:o})};return t.$$set=t=>{"cityName"in t&&n(0,o=t.cityName),"selectedCity"in t&&n(1,s=t.selectedCity)},[o,s,a,t=>{s===o?window.open(`https://wikipedia.org/wiki/${o}`):a(),t.stopPropagation()}]}class ot extends V{constructor(t){super(),F(this,t,rt,nt,s,{cityName:0,selectedCity:1})}}function st(t,e,n){const r=t.slice();return r[24]=e[n],r}function at(t){let e,n;return e=new ot({props:{cityName:t[24],selectedCity:t[8]}}),e.$on("select",t[16]),{c(){B(e.$$.fragment)},m(t,r){L(e,t,r),n=!0},p(t,n){const r={};256&n&&(r.selectedCity=t[8]),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function it(t){let e,n,o,s,i,l,u,f,d,p,k,w,M,_,q,E,Y,C,N,X,A,j,S,z,B,L,T;P(t[14]);let H=Object.keys(et),F=[];for(let e=0;e<H.length;e+=1)F[e]=at(st(t,H,e));const V=t=>K(F[t],1,1,(()=>{F[t]=null}));return{c(){e=m("div"),n=m("div"),o=m("img"),i=b(),l=m("div"),f=b(),d=m("div"),k=b(),w=m("span"),M=y("Arctic"),q=b(),E=m("div"),C=b(),N=m("span"),X=y("Tropic"),j=b();for(let t=0;t<F.length;t+=1)F[t].c();var r,h,g,$,x,P;v(o,"draggable","false"),r=o,h="height",null==(g="100%")?r.style.removeProperty(h):r.style.setProperty(h,g,$?"important":""),x=o.src,P=s="/north-america-equirectangular.svg",a||(a=document.createElement("a")),a.href=P,x!==a.href&&v(o,"src","/north-america-equirectangular.svg"),v(l,"class","reference svelte-75g0v5"),v(l,"style",u=`\n        top: ${100*R(t[7])}%;\n        display: ${void 0===t[7]?"none":"block"};`),v(d,"class","arctic svelte-75g0v5"),v(d,"style",p=`\n          top: ${100*R(66.5)}%;\n          background:  repeating-linear-gradient(\n            -45deg,\n            transparent,\n            transparent ${5*Math.sqrt(t[2])}px,\n            #595959 ${5*Math.sqrt(t[2])}px,\n            #595959 ${8*Math.sqrt(t[2])}px\n          );`),v(w,"class","zoneLabel svelte-75g0v5"),v(w,"style",_=`left: ${-t[9].x*t[1]+6}px;\n        top: ${100*R(66.5)}%;`),v(E,"class","tropic svelte-75g0v5"),v(E,"style",Y=`\n          top: ${100*R(23.5)}%;\n          background:  repeating-linear-gradient(\n            45deg,\n            transparent,\n            transparent ${5*Math.sqrt(t[2])}px,\n            #595959 ${5*Math.sqrt(t[2])}px,\n            #595959 ${8*Math.sqrt(t[2])}px\n          );`),v(N,"class","zoneLabel svelte-75g0v5"),v(N,"style",A=`left: ${-t[9].x*t[1]+6}px;\n          top: ${100*R(23.5)}%;\n          transform: translateY(-100%);`),v(n,"class","mapContainer svelte-75g0v5"),v(n,"style",S=`\n      transform: translate(${t[9].x*t[1]}px, ${t[9].y*t[0]}px);\n      height:${t[12](t[2])}px;\n    `),v(e,"class",z=c("pane"+(void 0===t[3]?"":" dragging"))+" svelte-75g0v5")},m(r,s){g(r,e,s),h(e,n),h(n,o),h(n,i),h(n,l),h(n,f),h(n,d),h(n,k),h(n,w),h(w,M),h(n,q),h(n,E),h(n,C),h(n,N),h(N,X),h(n,j);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(n,null);B=!0,L||(T=[x(window,"resize",t[14]),x(o,"load",t[15]),x(e,"mousedown",t[17]),x(e,"mouseup",t[11]),x(e,"mouseleave",t[11]),x(e,"mousemove",t[18]),x(e,"wheel",t[19]),x(e,"touchstart",t[20]),x(e,"touchmove",t[21]),x(e,"touchend",t[11],{passive:!0})],L=!0)},p(t,[o]){if((!B||128&o&&u!==(u=`\n        top: ${100*R(t[7])}%;\n        display: ${void 0===t[7]?"none":"block"};`))&&v(l,"style",u),(!B||4&o&&p!==(p=`\n          top: ${100*R(66.5)}%;\n          background:  repeating-linear-gradient(\n            -45deg,\n            transparent,\n            transparent ${5*Math.sqrt(t[2])}px,\n            #595959 ${5*Math.sqrt(t[2])}px,\n            #595959 ${8*Math.sqrt(t[2])}px\n          );`))&&v(d,"style",p),(!B||514&o&&_!==(_=`left: ${-t[9].x*t[1]+6}px;\n        top: ${100*R(66.5)}%;`))&&v(w,"style",_),(!B||4&o&&Y!==(Y=`\n          top: ${100*R(23.5)}%;\n          background:  repeating-linear-gradient(\n            45deg,\n            transparent,\n            transparent ${5*Math.sqrt(t[2])}px,\n            #595959 ${5*Math.sqrt(t[2])}px,\n            #595959 ${8*Math.sqrt(t[2])}px\n          );`))&&v(E,"style",Y),(!B||514&o&&A!==(A=`left: ${-t[9].x*t[1]+6}px;\n          top: ${100*R(23.5)}%;\n          transform: translateY(-100%);`))&&v(N,"style",A),384&o){let e;for(H=Object.keys(et),e=0;e<H.length;e+=1){const r=st(t,H,e);F[e]?(F[e].p(r,o),O(F[e],1)):(F[e]=at(r),F[e].c(),O(F[e],1),F[e].m(n,null))}for(D={r:0,c:[],p:D},e=H.length;e<F.length;e+=1)V(e);D.r||r(D.c),D=D.p}(!B||519&o&&S!==(S=`\n      transform: translate(${t[9].x*t[1]}px, ${t[9].y*t[0]}px);\n      height:${t[12](t[2])}px;\n    `))&&v(n,"style",S),(!B||8&o&&z!==(z=c("pane"+(void 0===t[3]?"":" dragging"))+" svelte-75g0v5"))&&v(e,"class",z)},i(t){if(!B){for(let t=0;t<H.length;t+=1)O(F[t]);B=!0}},o(t){F=F.filter(Boolean);for(let t=0;t<F.length;t+=1)K(F[t]);B=!1},d(t){t&&$(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(F,t),L=!1,r(T)}}}function ct(t,e,n){let r,o,s,a,c,l,u,f,d=1,p=!1,h=U({x:0,y:0},{stiffness:.2,damping:.4});i(t,h,(t=>n(9,r=t)));const g=()=>{n(3,a=void 0),n(6,l=void 0),p?n(4,p=!1):b(),h.set(y({x:r.x,y:r.y},d))},$=t=>500*t,m=(t,e,n,r)=>{const o=Math.max(n,r),s=Math.max(n,e-t-r);return o>n||s>n?t>e?o>n?n:e-t-n:(e-t)/2:r},y=({x:t,y:e},n)=>{const r=$(n),a=.05*o;return{x:m(r*c,s,.1*s,t*s)/s,y:m(r,o,a,e*o)/o}},b=()=>{void 0===a&&(n(7,u=void 0),n(8,f=void 0))};return[o,s,d,a,p,c,l,u,f,r,h,g,$,y,function(){n(0,o=window.innerHeight),n(1,s=window.innerWidth)},t=>{n(5,c=t.target.width/t.target.height),g()},t=>{n(7,u=t.detail.latitude),n(8,f=t.detail.name)},t=>{n(3,a={x:t.screenX,y:t.screenY,ox:r.x,oy:r.y})},t=>{a&&(n(4,p=!0),h.set({x:a.ox-(a.x-t.screenX)/s,y:a.oy-(a.y-t.screenY)/o}))},t=>{const e=Math.exp(t.wheelDeltaY/500);n(2,d*=e),h.set(y({x:t.screenX/s*(1-e)+e*r.x,y:t.screenY/o*(1-e)+e*r.y},d),{hard:!0})},t=>{const e=t.touches[0],o=t.touches[1]??t.touches[0];if(t.touches.length>=2){const t=e.screenX-o.screenX,r=e.screenY-o.screenY;n(6,l=Math.sqrt(t*t+r*r))}const s=(e.screenX+o.screenX)/2,i=(e.screenY+o.screenY)/2;n(3,a={x:s,y:i,ox:r.x,oy:r.y})},t=>{t.preventDefault();const e=t.touches[0],i=t.touches[1]??t.touches[0],c=(e.screenX+i.screenX)/2,u=(e.screenY+i.screenY)/2;if(n(4,p=!0),t.touches.length>=2&&l){const t=e.screenX-i.screenX,a=e.screenY-i.screenY,f=Math.sqrt(t*t+a*a),p=f/l;n(2,d*=p),n(6,l=f);const g=c/s,$=u/o;h.set(y({x:g*(1-p)+p*r.x,y:$*(1-p)+p*r.y},d),{hard:!0})}else h.set({x:a.ox-(a.x-c)/s,y:a.oy-(a.y-u)/o})}]}class lt extends V{constructor(t){super(),F(this,t,ct,it,s,{})}}function ut(e){let n,r;return n=new lt({}),{c(){B(n.$$.fragment)},m(t,e){L(n,t,e),r=!0},p:t,i(t){r||(O(n.$$.fragment,t),r=!0)},o(t){K(n.$$.fragment,t),r=!1},d(t){T(n,t)}}}return new class extends V{constructor(t){super(),F(this,t,null,ut,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
